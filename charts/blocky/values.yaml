nameOverride: ""
fullnameOverride: ""

blocky:
  replicas: 2
  strategyType: RollingUpdate
  image:
    repository: ghcr.io/0xerr0r/blocky
    tag: ""
  securityContext:
    readOnlyRootFilesystem: true
    runAsUser: 1000
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "128Mi"
  affinity:
    podAntiAffinity:
      preferredDuringSchedulingIgnoredDuringExecution:
        - podAffinityTerm:
            labelSelector:
              matchLabels:
                app.kubernetes.io/name: blocky
            topologyKey: kubernetes.io/hostname
          weight: 100

service:
  annotations: {}
  ports:
    - name: dns-udp
      port: 53
      protocol: UDP
    - name: dns-tcp
      port: 53
      protocol: TCP
    - name: http
      port: 4000
      protocol: TCP
  type: LoadBalancer

config:
  annotations: {}
  yaml: |
    upstream:
      default:
        - 1.1.1.1
        - 8.8.8.8
    blocking:
      blackLists:
        ads:
          - https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts
      clientGroupsBlock:
        default:
          - ads
    port: 53
    httpPort: 4000
    caching:
      minTime: 5m
      maxTime: 30m
